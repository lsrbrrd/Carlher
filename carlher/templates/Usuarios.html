<div class=row ng-controller=Usuario><div class=row><div class="col-lg-offset-1 col-lg-10 col-xs-12"></div></div><div class=row><div class="col-lg-offset-2 col-lg-8 col-xs-12 col-md-12"><div class="panel panel-primary"><div class=panel-heading><span class=panel-title>Gestionar Usuarios</span></div><div class="panel-body text-center"><div class="col-lg-offset-1 col-lg-10 col-xs-12"><form class=form-horizontal role=form ng-submit=guardar() name=formU><div class=form-group><label class="control-label col-md-2" for=nombreU>Nombre:</label><div class="col-md-4 text-left"><input type=text class=form-control id=nombreU name=nombreU ng-model=nombreU ng-pattern="/^([a-zA-Z])+$/" required ng-class="{ error: formU.nombreU.$error.required && !formU.$pristine, warning: formU.nombreU.$error.pattern }"> <span ng-show="!formU.$pristine && formU.nombreU.$error.required">Escriba el nombre</span> <span ng-show="!formU.$pristine && formU.nombreU.$error.pattern">Nombre inválido</span></div><label class="control-label col-md-2" for=nproyecto>Rol:</label><div class="col-md-4 text-left"><select class=form-control ng-model=rol.selected required ng-options="lRol.id as lRol.nombre for lRol in rol"></select><span ng-show="!formU.$pristine && rol.selected === 0">Seleccione un rol</span></div></div><div class="form-group text-left"><label class="control-label col-md-2" for=descripcionU>Descripción:</label><div class=col-md-10><textarea class=form-control style="resize: vertical" id=descripcionU name=descripcionU ng-model=descripcionU rows=2 required ng-class="{ error: formU.descripcionU.$error.required && !formU.$pristine }"></textarea> <span ng-show="!formU.$pristine && formU.descripcionU.$error.required">Debe especificar una descripción</span></div></div><div class=form-group><label class="control-label col-md-2 col-sm-2" for=passU>Contraseña:</label><div class=col-sm-4><input type=password class="form-control col-sm-5" id=passU name=passU ng-model=passU ng-class="{ error: !formU.$pristine && !editando && passU == ''}"> <span ng-show="!formU.$pristine && formU.passU.$error.required && !editando">Escriba una contraseña</span></div><label class="control-label col-md-2 col-sm-2" for=passRepU>Repetir:</label><div class=col-sm-4><input type=password class="form-control col-sm-5" id=passRepU name=passRepU ng-model=passRepU ng-class="{ error: !formU.$pristine && ((!editando && passU === '') || (passU !== passRepU)) }"> <span ng-show="!formU.$pristine && passU !== '' && passRepU === ''">Repita la contraseña</span> <span ng-show="!formU.$pristine && passU !== passRepU && passRepU !== ''">Las contraseña no coinciden</span></div></div><div class="row text-center"><div class=col-md-12><button type=submit class="btn btn-primary" ng-disabled="!formU.$valid || rol.selected === 0 || passU !== passRepU">Adicionar</button></div></div></form></div></div></div></div></div><div class=row><div class="col-lg-offset-1 col-lg-10 col-xs-12"><div class="panel panel-primary"><div class=panel-heading><span class=panel-title>Listado de Usuarios</span></div><div class="panel-body text-center"><div class="col-lg-offset-1 col-lg-10 col-xs-12"><table class="table table-striped text-left"><thead><tr><th></th><th><h6><strong>Nombre</strong></h6></th><th><h6><strong>Rol</strong></h6></th><th><h6><strong>Descripción</strong></h6></th></tr></thead><tbody><tr ng-repeat="listado in usuarios"><td><span class="menu-icon fa fa-edit" ng-click=usuariosEditar(listado.index)></span>&nbsp;&nbsp; <span class="menu-icon fa fa-times" ng-click="openModal('sm', listado.index, 'confEliminar.html')"></span></td><td><h6>{{listado.nombre}}</h6></td><td><h6>{{listado.rolN}}</h6></td><td><h6>{{listado.descripcion}}</h6></td></tr></tbody></table></div></div></div></div></div></div><script type=text/ng-template id=confEliminar.html><div id="confEliminar" style="text-align: center;"> <div class="modal-header"> <h3 class="modal-title"><span class="menu-icon fa fa-question-circle"></span>&nbsp; Confirmación</h3> </div> <div class="modal-body"> <div> ¿Desea eliminar los datos? </div> </div> <div class="modal-footer"> <div class="col-lg-6 col-md-4"> <button type="button" class="btn btn-primary" ng-click="elimElemento(items,'user')">Eliminar</button> </div> <div class="col-lg-6 col-md-4"> <button type="button" class="btn btn-primary" ng-click="cancel()">Cancelar</button> </div> </div> </div></script><script type=text/ng-template id=error.html><div id="error" style="text-align: center;"> <div class="modal-header"> <h3 class="modal-title text-left"><span class="menu-icon fa fa-ban"></span>&nbsp; Error</h3> </div> <div class="modal-body"> <div> {{items}} </div> </div> <div class="modal-footer"> <div class="col-lg-12 col-md-4 text-center"> <button type="button" class="btn btn-danger" ng-click="cancel()">Aceptar</button> </div> </div> </div></script><script type=text/ng-template id=ok.html><div id="ok" style="text-align: center;"> <div class="modal-header"> <h3 class="modal-title text-left"><span class="menu-icon fa fa-thumbs-up"></span>&nbsp; Éxito</h3> </div> <div class="modal-body"> <div> {{items}} </div> </div> <div class="modal-footer"> <div class="col-lg-12 col-md-4 text-center"> <button type="button" class="btn btn-success" ng-click="cancel()">Aceptar</button> </div> </div> </div></script>