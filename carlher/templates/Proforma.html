<div ng-controller=proforma><div class=row><div class="col-lg-offset-1 col-lg-10 col-xs-12"></div></div><div class=row><div class="col-lg-offset-2 col-lg-8 col-xs-12"><div class="panel panel-primary"><div class=panel-heading><span class=panel-title>Listado de proformas por proyectos</span></div><div class=panel-body><div class="col-lg-offset-1 col-lg-12"><div class="col-md-8 text-left abn-tree" ng-controller=angularBootstrapNavTree><div class="indented tree-icon" style="background:whitesmoke;border:1px solid lightgray;border-radius:5px;"><abn-tree tree-data=proformasU icon-leaf="fa fa-gear" expand-level=2 tree-control=my_tree></abn-tree></div></div><div class="col-md-4 text-left"><button type=submit class="btn btn-primary" ng-disabled=generar ng-click=generarProf() style="margin: 20px 0">Generar Proforma</button> <button type=submit class="btn btn-primary" ng-disabled=eliminar ng-click=eliminarProf() style="margin: 10px 0">Eliminar Proforma</button><div class="col-lg-10 text-right checkbox-inline" style="margin: 10px 0"><input type=checkbox ng-model=Vcliente ng-disabled=eliminar> Vista Cliente</div></div></div></div></div></div></div><div class=row ng-show="activo && !Vcliente"><div class="col-lg-offset-1 col-lg-10 col-xs-12"><div class="panel panel-primary"><div class="panel-heading text-center"><span class=panel-title>PROFORMA No. {{numero}}</span></div><div class=panel-body><div class=row><div class=col-md-2><strong><br>Cliente:</strong></div><div class=col-md-6><br>SEÑOR(A) {{cliente}}</div></div><div class=row><div class=col-md-2><strong>Fecha:</strong></div><div class=col-md-6>{{fecha| date: 'longDate' }}</div></div><div class=row><div class=col-md-2><strong>Proyecto:</strong></div><div class=col-md-6>{{proyecto}}</div></div><div class=row><div class=col-md-12><br>Nos es grato poner a su consideración nuestros productos de excelente calidad y con precios muy competitivos en el mercado.<br>Esperamos cumplir con sus expectativas y tener una respuesta favorable.</div></div><br><br><div class=row ng-repeat="areas in listado[0]"><div ng-show="areas.modulos.length > 0"><div class="col-md-12 text-center"><strong>Área: {{areas.area}}</strong></div><div class=col-md-12><table class="table table-striped"><thead><tr><th>Módulo</th><th>Línea</th><th>Cant.</th><th style="text-align: right">Valor U.</th><th style="text-align: right">Total USD</th></tr></thead><tbody><tr ng-repeat="modulo in areas.modulos"><td style="width: 30%">{{modulo.nombre}}</td><td style="width: 30%">{{modulo.linea}}</td><td style="width: 10%; text-align: center">{{modulo.cant}}</td><td style="text-align: right;width: 15%">{{modulo.totalU}}</td><td style="text-align: right;width: 15%">{{modulo.total}}</td></tr></tbody></table></div><div class=col-md-12><table class="table table-striped"><tbody><tr><td></td><td></td><td></td><td></td><td style="text-align: right">Total del Área {{areas.area}}:</td><td style="text-align: right; width: 15%">{{areas.totalU| number: 2}}</td><td style="text-align: right; width: 15%">{{areas.total| number: 2}}</td></tr></tbody></table></div></div></div><div class=col-md-12><table class="table table-striped"><tbody><tr><td></td><td></td><td></td><td></td><td style="text-align: right">Total del Proyecto:</td><td style="text-align: right; width: 15%">{{totalU| number: 2}}</td><td style="text-align: right; width: 15%">{{total| number: 2}}</td></tr></tbody></table></div><div class=row ng-repeat="lineas in listado[1]"><div class=col-md-12><br><br><strong>CARACTERISTICAS LÍNEA {{lineas.nombre}}</strong><br>{{lineas.desc}}<br></div></div><div class=row><div class=col-md-3><strong><br><br>TIEMPO DE ENTREGA:</strong></div><div class=col-md-3><br><br>{{entrega}} días</div></div><form class=form-horizontal role=form ng-submit=actualizarFP() name=formFPP><div class=row><div class=col-md-3><strong><br><br>FORMA DE PAGO:</strong><br><br><br><div class="col-md-12 text-center"><button type=submit class="btn btn-primary" ng-disabled="FP !== 100">Actualizar</button><br><span ng-show="FP !== 100">La suma debe ser 100</span></div></div><div class=col-md-9><br><br><div class="row text-left"><div class=col-md-2><input type=number class=form-control id=firma ng-model=firma maxlength=3 max=100 min=0></div><div class=col-md-10>% A LA FIRMA DEL CONTRATO<br></div></div><div class="row text-left"><div class=col-md-2><input type=number class=form-control id=instalacion ng-model=instalacion maxlength=3 max=100 min=0></div><div class=col-md-10>% A LA INSTALACIÓN DE LOS MUEBLES<br></div></div><div class="row text-left"><div class=col-md-2><input type=number class=form-control id=FPentrega ng-model=FPentrega maxlength=3 max=100 min=0></div><div class=col-md-10>% CONTRA ENTREGA</div></div></div></div></form><br><br><br><div class=row><div class=col-lg-2><strong>ATENTAMENTE</strong></div><div class="col-lg-6 text-center"><button type=button class="btn btn-primary" ng-click="imprimirPdf('false')">Imprimir</button></div></div></div></div></div></div><div class=row ng-show=Vcliente><div class="col-lg-offset-1 col-lg-10 col-xs-12"><div class="panel panel-primary"><div class="panel-heading text-center"><span class=panel-title>PROFORMA No. {{numero}}</span></div><div class=panel-body><div class=row><div class=col-md-2><strong><br>Cliente:</strong></div><div class=col-md-6><br>SEÑOR(A) {{cliente}}</div></div><div class=row><div class=col-md-2><strong>Fecha:</strong></div><div class=col-md-6>{{fecha| date: 'longDate' }}</div></div><div class=row><div class=col-md-2><strong>Proyecto:</strong></div><div class=col-md-6>{{proyecto}}</div></div><div class=row><div class=col-md-12><br>Nos es grato poner a su consideración nuestros productos de excelente calidad y con precios muy competitivos en el mercado.<br>Esperamos cumplir con sus expectativas y tener una respuesta favorable.</div></div><br><br><div class=row ng-repeat="areas in listado[0]"><div ng-show="areas.modulos.length > 0"><div class="col-md-12 text-center"><strong>Área: {{areas.area}}</strong></div><div class=col-md-12><table class="table table-striped"><thead><tr><th>Módulo</th><th>Línea</th><th>Cant.</th></tr></thead><tbody><tr ng-repeat="modulo in areas.modulos"><td style="width: 40%">{{modulo.nombre}}</td><td style="width: 40%">{{modulo.linea}}</td><td style="width: 20%; text-align: center">{{modulo.cant}}</td></tr></tbody></table></div></div></div><br><div class=col-md-12><table class="table table-striped"><tbody><tr><td></td><th style="text-align: right">Total del Proyecto:</th><td style="text-align: right; width: 20%">{{total| number: 2}}</td></tr></tbody></table></div><div class=row ng-repeat="lineas in listado[1]"><div class=col-md-12><br><br><strong>CARACTERISTICAS LÍNEA {{lineas.nombre}}</strong><br>{{lineas.desc}}<br></div></div><div class=row><div class=col-md-3><strong><br><br>TIEMPO DE ENTREGA:</strong></div><div class=col-md-3><br><br>{{entrega}} días</div></div><form class=form-horizontal role=form ng-submit=actualizarFP() name=formFPP><div class=row><div class=col-md-3><strong><br><br>FORMA DE PAGO:</strong><br><br><br><div class="col-md-12 text-center"><button type=submit class="btn btn-primary" ng-disabled="FP !== 100">Actualizar</button><br><span ng-show="FP !== 100">La suma debe ser 100</span></div></div><div class=col-md-9><br><br><div class="row text-left"><div class=col-md-2><input type=number class=form-control id=firma ng-model=firma maxlength=3 max=100 min=0></div><div class=col-md-10>% A LA FIRMA DEL CONTRATO<br></div></div><div class="row text-left"><div class=col-md-2><input type=number class=form-control id=instalacion ng-model=instalacion maxlength=3 max=100 min=0></div><div class=col-md-10>% A LA INSTALACIÓN DE LOS MUEBLES<br></div></div><div class="row text-left"><div class=col-md-2><input type=number class=form-control id=FPentrega ng-model=FPentrega maxlength=3 max=100 min=0></div><div class=col-md-10>% CONTRA ENTREGA</div></div></div></div></form><br><br><br><div class=row><div class=col-lg-2><strong>ATENTAMENTE</strong></div><div class="col-lg-6 text-center"><button type=button class="btn btn-primary" ng-click="imprimirPdf('true')">Imprimir</button></div></div></div></div></div></div></div><script type=text/ng-template id=error.html><div id="error" style="text-align: center;"> <div class="modal-header"> <h3 class="modal-title text-left"><span class="menu-icon fa fa-ban"></span>&nbsp; Error</h3> </div> <div class="modal-body"> <div> {{items}} </div> </div> <div class="modal-footer"> <div class="col-lg-12 col-md-4 text-center"> <button type="button" class="btn btn-danger" ng-click="cancel()">Aceptar</button> </div> </div> </div></script><script type=text/ng-template id=ok.html><div id="ok" style="text-align: center;"> <div class="modal-header"> <h3 class="modal-title text-left"><span class="menu-icon fa fa-thumbs-up"></span>&nbsp; Éxito</h3> </div> <div class="modal-body"> <div> {{items}} </div> </div> <div class="modal-footer"> <div class="col-lg-12 col-md-4 text-center"> <button type="button" class="btn btn-success" ng-click="cancel()">Aceptar</button> </div> </div> </div></script>